# Cache System with MySQL Integration

这是一个用C++实现的缓存系统，支持四种缓存策略：FIFO、LRU、LFU和ARC。该项目还集成了MySQL数据库作为后端存储，可以作为数据库的缓存层来提高资源访问速度。

## 功能特性

1. **四种缓存策略实现**：
   - FIFO (First In First Out)：先进先出缓存策略
   - LRU (Least Recently Used)：最近最少使用缓存策略
   - LFU (Least Frequently Used)：最不经常使用缓存策略
   - ARC (Adaptive Replacement Cache)：自适应替换缓存策略

2. **MySQL数据库集成**：
   - 连接MySQL数据库
   - 可作为数据库查询的缓存层

3. **性能测试**：
   - 对四种缓存策略进行压力测试
   - 显示缓存命中率和执行时间

## 编译和运行

### 编译要求

- C++11 或更高版本
- MySQL C++ Connector 库

### 编译命令

```bash
g++ -std=c++11 main.cpp -o main -lmysqlclient
```

### 运行程序

```bash
./main
```

## 代码结构

### 缓存实现

- [FIFOCache]：FIFO缓存实现，使用哈希表和双向链表
- [LRUCache]：LRU缓存实现，使用哈希表和双向链表维护访问顺序
- [LFUCache]：LFU缓存实现，使用频率计数和时间戳
- [ARCCache]：ARC缓存实现，使用四个列表(T1, T2, B1, B2)来自适应调整

### 数据库连接

- [MySQLDB]：MySQL数据库连接和查询类

### 性能测试

- [CachePerformanceTest]：缓存性能测试类

## 测试结果

程序会运行一个压力测试，模拟真实的缓存访问场景，其中80%的访问集中在20%的数据上（遵循二八定律）。测试结果显示：

- 缓存命中次数和未命中次数
- 缓存命中率
- 执行时间
- 缓存大小

## 缓存策略比较

根据测试结果，四种缓存策略的性能排序通常为：

1. **LFU**：在有明确访问频率差异的场景下表现最好
2. **ARC**：自适应策略，在各种场景下表现稳定
3. **LRU**：在大多数场景下表现良好
4. **FIFO**：最简单的策略，性能通常最低

## 扩展和改进

1. 可以根据实际需求调整缓存大小
2. 可以实现更多缓存策略，如MRU（Most Recently Used）
3. 可以添加持久化功能，将缓存数据保存到磁盘
4. 可以添加线程安全机制，支持并发访问

## 注意事项

1. MySQL连接部分被注释掉了，如需使用需要修改连接参数
2. 程序使用了模板类，可以适配不同的数据类型
3. 测试数据是随机生成的，可以根据实际需求替换

## 许可证

本项目仅供学习和参考使用。# CacheTest
